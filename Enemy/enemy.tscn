[gd_scene load_steps=6 format=3 uid="uid://dtljdkolleihi"]

[ext_resource type="Script" uid="uid://cxkrxpdtltjh" path="res://Enemy/enemy.gd" id="1_2pb1h"]
[ext_resource type="PackedScene" uid="uid://ch1vyjkdj16m8" path="res://Player/rig.tscn" id="2_px1sc"]
[ext_resource type="PackedScene" uid="uid://kha3rtcnssdw" path="res://Player/health_component.tscn" id="3_am0pq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_am0pq"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_eqilm"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 9
script = ExtResource("1_2pb1h")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_am0pq")

[node name="RigPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Rig" parent="RigPivot" instance=ExtResource("2_px1sc")]

[node name="Skeleton3D" parent="RigPivot/Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(1.3869528e-14, 0.89976305, -0.048173524)
bones/0/rotation = Quaternion(0.12581974, 1.1826191e-07, 1.4998871e-08, 0.99205315)
bones/1/rotation = Quaternion(-0.05665772, -0.00072972954, -0.011708177, 0.9983248)
bones/2/position = Vector3(3.204737e-09, 0.14668903, -1.9557774e-08)
bones/2/rotation = Quaternion(-0.00010969456, -0.00038800843, 0.0032141258, 0.9999948)
bones/3/rotation = Quaternion(-0.09491246, -0.00035955093, 0.008521078, 0.9954491)
bones/4/position = Vector3(3.0293398e-10, 0.09255617, 3.9115548e-08)
bones/4/rotation = Quaternion(0.27568197, 1.4883131e-08, 9.242466e-08, 0.9612489)
bones/5/rotation = Quaternion(-0.09485639, -2.806912e-14, -2.2615541e-08, 0.99549097)
bones/6/rotation = Quaternion(-0.15792158, -1.1757517e-07, -1.9673783e-08, 0.9874517)
bones/7/position = Vector3(-2.340026e-08, 0.89976287, -0.048173454)
bones/7/rotation = Quaternion(-0.086367704, -0.75110435, -0.38305166, 0.53071135)
bones/8/position = Vector3(-7.9770594e-08, 0.8997629, -0.04817351)
bones/8/rotation = Quaternion(-0.08636769, 0.7511042, 0.3830516, 0.5307113)
bones/9/position = Vector3(0.13114367, 0.96596706, -0.0351291)
bones/9/rotation = Quaternion(0.99323356, 0.020767128, -0.030998446, 0.109977394)
bones/10/position = Vector3(-2.3612856e-08, 0.2660098, -2.1478938e-08)
bones/10/rotation = Quaternion(-3.139207e-08, -0.0006950857, 1.2044876e-08, 0.99999976)
bones/11/position = Vector3(-4.6305953e-08, 0.2660099, 2.421448e-08)
bones/11/rotation = Quaternion(0.41658542, -0.00070018374, 0.00032099363, 0.9090963)
bones/12/position = Vector3(3.051513e-08, 0.22602953, 5.0376833e-08)
bones/12/rotation = Quaternion(-8.192261e-09, -0.0071064373, 4.1610164e-08, 0.9999748)
bones/13/position = Vector3(-2.9549483e-08, 0.22602952, 2.6839189e-09)
bones/13/rotation = Quaternion(-0.7500185, 0.01187986, 0.02439639, 0.66086006)
bones/15/position = Vector3(-0.1311437, 0.96596724, -0.035129108)
bones/15/rotation = Quaternion(0.9736124, -0.005703744, 0.027376635, 0.22648846)
bones/16/position = Vector3(-1.1004229e-08, 0.2657052, -3.3198894e-08)
bones/16/rotation = Quaternion(-3.4322706e-08, 0.003143231, 8.33075e-10, 0.9999951)
bones/17/position = Vector3(1.835448e-08, 0.26570538, 6.9854256e-10)
bones/17/rotation = Quaternion(0.44080752, 0.0032712684, -0.0016066191, 0.8975943)
bones/18/position = Vector3(1.2807033e-08, 0.2257194, -8.287741e-09)
bones/18/rotation = Quaternion(-2.2901656e-08, -0.007857315, 3.3014885e-08, 0.9999691)
bones/19/position = Vector3(-1.2774763e-08, 0.22571929, 1.1200427e-08)
bones/19/rotation = Quaternion(-0.68667465, -0.028184569, -0.00084301806, 0.72641784)
bones/21/position = Vector3(0.025128616, 1.429839, 0.043409176)
bones/21/rotation = Quaternion(-0.48825306, -0.26009378, -0.40372643, 0.7286736)
bones/22/position = Vector3(0.18917535, 1.467171, -0.020872995)
bones/22/rotation = Quaternion(0.043727983, -0.16063242, 0.974736, -0.14891265)
bones/23/rotation = Quaternion(5.2542973e-08, -0.020932756, 3.2734704e-08, 0.9997809)
bones/24/rotation = Quaternion(0.31039247, -0.020934163, -0.019144392, 0.9501852)
bones/25/rotation = Quaternion(1.499429e-07, -1.2060627e-07, 9.9185876e-08, 1)
bones/26/rotation = Quaternion(-0.008248833, -0.00027077025, -0.032866735, 0.9994257)
bones/46/position = Vector3(-0.011363526, 1.429839, 0.04340916)
bones/46/rotation = Quaternion(-0.5031247, 0.22952923, 0.3829711, 0.73994255)
bones/47/position = Vector3(-0.16947207, 1.4676813, -0.034091856)
bones/47/rotation = Quaternion(-0.06223929, -0.13908382, 0.9741269, 0.1669096)
bones/48/rotation = Quaternion(-7.890518e-08, 0.022418186, -1.388888e-07, 0.9997487)
bones/49/rotation = Quaternion(0.3449669, 0.022418868, 0.02899267, 0.9378991)
bones/50/rotation = Quaternion(-8.731149e-08, 2.7474018e-08, -1.2805685e-07, 1)
bones/51/rotation = Quaternion(-0.008248763, 0.00027083192, 0.032866996, 0.9994257)
bones/71/position = Vector3(0.12719111, 1.3488184, -0.025955945)
bones/71/rotation = Quaternion(1.9523972e-08, 0.6099054, 0.79247427, -4.6300855e-08)
bones/72/position = Vector3(-0.113425955, 1.3488184, -0.02595597)
bones/72/rotation = Quaternion(1.9525238e-08, 0.60988986, 0.7924862, -4.629984e-08)

[node name="Knight_02" parent="RigPivot/Rig/CharacterRig/GameRig/Skeleton3D" index="1"]
visible = false

[node name="Villager_01" parent="RigPivot/Rig/CharacterRig/GameRig/Skeleton3D" index="2"]
visible = true

[node name="AnimationTree" parent="RigPivot/Rig" index="1"]
parameters/MoveSpace/blend_position = -1.0

[node name="RightHandBone" parent="RigPivot/Rig" index="2"]
transform = Transform3D(-0.9623412, -0.27080926, -0.023707276, 0.23710579, -0.8788224, 0.4140682, -0.13296796, 0.3928538, 0.9099369, -0.34329054, 0.9889264, -0.016453195)

[node name="LeftHandBone" parent="RigPivot/Rig" index="3"]
transform = Transform3D(-0.9705232, 0.2390744, 0.030471928, -0.21903037, -0.9276913, 0.30234858, 0.100552365, 0.28676212, 0.9527101, 0.34597722, 0.9756443, -0.039433897)

[node name="HealthComponent" parent="." instance=ExtResource("3_am0pq")]

[node name="PlayerDetector" type="ShapeCast3D" parent="."]
shape = SubResource("CapsuleShape3D_eqilm")
target_position = Vector3(0, 0, 1)
collision_mask = 4

[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]

[editable path="RigPivot/Rig"]
[editable path="RigPivot/Rig/CharacterRig"]
